## Network > Private DNS > コンソール使用ガイド

### Private DNS Zoneの作成

1. Private DNS ZoneはレコードセットのコンテナとしてPrivate DNSがサービスするホストに対するドメイン領域であり、**Private DNS Zoneの作成**ボタンをクリックして作成します。

2. **Private DNS Zone名**と**説明**を入力し、VPCを選択して**確認**ボタンをクリックします。 

    - **Private DNS Zone名**にユーザーが所有しているドメインまたはサブドメインを[FQDN(full qualified domain name)](https://en.wikipedia.org/wiki/Fully_qualified_domain_name)に入力します。
    - **Private DNS Zone名**は、接続されたVPC内で唯一でなければなりません。
    - 複数のVPCを選択できます。画面右側の**+**ボタンをクリックしてVPCを追加することができ、追加したVPCの**-**ボタンをクリックしてVPCを削除できます。
    - Private DNS ZoneのVPCの最小接続数は1つで、最大接続数は制限がありません。
    - 作成が完了すると、Private DNSサービスを利用するために接続されたVPCのインスタンスはネームサーバをプライベートDNSポートIPに変更する必要があります。
      - インスタンスを再起動すると、インスタンスのネームサーバがプライベートDNSポートIPに設定されます。
    - 基本的に作成されるレコードセットは[レコードセット管理](./console-guide/#_1)で確認できます。
    - 一つ以上のZoneに接続されたVPCは、プライベートIP DNS設定をしなくてもプライベートIP DNSを使用できます。


> [参考]プライベートDNSポート
> * プライベートIP DNSを設定したり、VPCを初めてZoneに接続すると、VPC内にプライベートDNSポートが作成されます。
> * プライベートIP DNSを設定せず、すべてのZoneに接続が解除されたVPCは、プライベートDNSポートが削除されます。
> * プライベートIP DNSを設定せずにすべてのZoneに接続を解除した後、再接続したVPCは、プライベートDNSポートが変更される場合があります。
> * プライベートDNSポートが作成/変更/削除される場合、これを適用するためにインスタンスの再起動が必要です。
> * プライベートDNSポートを適用するためにインスタンスを再起動した場合、その後、そのVPCに追加的に他のZoneを接続したり、プライベートIP DNS設定を変更しても、インスタンスを再起動する必要はありません。

> [参考]ネームサーバー再設定が必要な場合
> * VPCにプライベートIP DNSを設定したり、初めてZoneに接続した場合
> * Zone に接続されていない VPC のプライベート IP DNS 設定を変更する場合
> * VPC にプライベート IP DNS を設定せずに、VPC のすべての Zone 接続を解除して、Private DNS を使用しない場合
> * VPCにプライベートIP DNSを設定せずにVPCのすべてのZone接続を解除し、再接続する場合

> [注意事項] 2つ以上の異なるVPCポートを持つインスタンス
> *2つ以上の異なるVPCポートを持つインスタンスは、Private DNSの動作を保証できません。
> * 2つのポートのうち1つのVPCに設定されたPrivate DNSのみ動作できます。
> * Private DNS機能を使用するVPCポートをインスタンスのeth0に設定しない場合、ルーティング優先順位によってDNSレスポンスを受けられない場合があります。

### Private DNS Zoneの修正

1. 修正するPrivate DNS Zoneを選択した後、**Private DNS Zone修正**ボタンをクリックします。
   
2. VPCを追加または削除できます。画面右側の**+**ボタンをクリックしてVPCを追加することができ、追加したVPCの**-**ボタンをクリックしてVPCを削除できます。
   - Private DNS ZoneのVPCの最小接続数は1つでなければならないため、最後のVPCは削除できません。

3. **説明**を修正し、**確認**ボタンをクリックします。

### Private DNS Zoneの削除

1. 削除するDNS Zoneをすべて選択した後、**DNS Zone削除**ボタンをクリックします。

2. **確認**ボタンをクリックします。DNS Zone内のすべてのレコードセットも削除され、一定時間がかかります。

## レコードセットの管理

メニューの**Private DNS**画面で選択したDNS Zoneのレコードセットを管理できます。

- **Private DNS Zone名**またはサブ名に対するレコードセットをレコードセットタイプ別に作成できます。
- **Private DNS Zone名**のSOAとNSレコードセットは基本的に作成され、修正や削除はできません。
- SOAレコードセットは作成/修正/削除することができず、NSレコードセットは**Private DNS Zone名**で作成/修正/削除できません。

### レコードセットの作成

1. レコードセットはサービスされるホスト情報であり、**レコードセット作成**ボタンをクリックして作成します。

2. レコードセット情報を入力します。

    - レコードセット名：サービスするホスト名で**Private DNS Zone名**またはサブネームになるように[FQDN](https://en.wikipedia.org/wiki/Fully_qualified_domain_name)で入力します。
    - レコードセットタイプ: ホストのタイプで、使用目的に応じてタイプを選択します。
    - TTL(秒)： Time to liveで、データの有効期間を表します。ネームサーバからのレコードセット情報の更新周期を秒単位で入力します。右側のボタンをクリックして簡単に入力できます。

3. レコードセットタイプに応じたレコード情報を入力します。

    - レコードセットタイプによってレコード値を異なる方法で入力する必要があります。 作成画面下部の説明に従って入力します。
    - レコードセットタイプによって複数のレコードを入力できます。画面右側の**+**ボタンをクリックしてレコードを追加することができ、追加したレコードの**-**ボタンをクリックしてレコードを削除できます。

4. 設定完了後、**確認**ボタンをクリックします。

5. レコードセットの作成数は制限されており、延長が必要な場合は別途お問い合わせください。

    - お問い合わせ先：[1:1お問い合わせ](https://www.nhncloud.com/kr/support/inquiry?alias=tab3_02)

### レコードセット大量作成

1. **レコードセット大量作成** ボタンをクリックします。

2. **テンプレートのダウンロード**ボタンをクリックしてダウンロードしたテンプレートにレコードセット情報を入力し、**ファイル選択**ボタンをクリックしてテンプレートを選択します。

3. テンプレートに入力した情報を画面で確認した後、**確認**ボタンをクリックします。

### レコードセットの修正

1. 修正するレコードセットを選択した後、**レコードセット修正**ボタンをクリックします。

2. **レコードセット名**は修正できませんが、**レコードセットタイプ**と**TTL(秒)**、**レコード値**は修正できます。

3. 設定完了後、**確認**ボタンをクリックします。


### レコードセットの削除

1. 削除するレコードセットをすべて選択した後、**レコードセットの削除**ボタンをクリックします。

2. **確認**ボタンをクリックします。
