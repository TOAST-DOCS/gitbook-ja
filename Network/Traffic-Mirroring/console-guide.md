## Network > Traffic Mirroring > コンソール使用ガイド

コンソールでTraffic Mirroringサービスを使用する方法を説明します。

## ミラーセッション管理

NHN CloudのTraffic Mirroringコンソールで設定値を入力するだけで、簡単にミラーセッションを作成できます。

#### ミラーセッション情報
ミラーセッションの基本情報を入力します。必要な項目は次のとおりです。

* 名前：ミラーセッションの名前を入力します。
* 説明：ミラーセッションの説明を記述します。
* 方向：ネットワークパケットのモニタリング方向を設定します。送信/受信のいずれかまたは両方を選択できます。
* ミラーソースポート：ネットワークパケットをモニタリングするネットワークインタフェースを指定します。インスタンスのネットワークインタフェースのみ指定可能です。
* ミラー先ポート：ミラーソースからコピーしたネットワークパケットを転送するネットワークインタフェースを指定します。インスタンスのネットワークインタフェースのみ指定可能です。
* フィルタグループ：作成したフィルタグループを指定できます。選択しないか、複数の項目を選択できます。

> [注意]ミラーターゲットポートに指定されたネットワークインターフェースは、通信ができなくなります。ミラーターゲットインスタンスの通信が必要な場合は、MGMTネットワークインターフェースを追加する必要があります。
>
> [注意]フィルタグループを指定しない場合、トラフィックはミラーリングされません。

> [参考]ミラーソースとミラーターゲットが同じミラーセッションが存在する場合、ミラーセッションを作成できません。
>
> [参考]ミラーソースとして登録されたネットワークインタフェースはミラーターゲットとして登録できません。同様に、ミラーターゲットとして登録されたネットワークインタフェースはミラーソースとして登録できません。
>
> [参考]ミラーソースとミラーターゲットに登録されたネットワークインタフェースが削除されると、接続されたミラーセッションも自動的に削除されます。

### ミラーセッション情報を確認する
ミラーセッションの作成が完了すると、再びミラーセッションリスト画面に戻ります。ミラーセッションリスト画面では作成されたミラーセッションの基本情報を確認できます。リスト画面で表示される項目は次のとおりです。

* 名前：ミラーセッション作成時に指定したミラーセッションの名前です。
* 説明：ミラーセッション作成時に指定したミラーセッションの説明です。
* テナントID：ミラーセッションを作成したプロジェクトのIDです。
* ミラーソースポート：ミラーセッション作成時にミラーソースとして指定したネットワークインタフェースの情報が表示されます。
* ミラーターゲットポート：ミラーセッション作成時にミラーターゲットとして指定したネットワークインタフェースの情報が表示されます。
* ミラーフィルタグループ：ミラーセッション作成時に指定したミラーフィルタグループの情報が表示されます。

### ミラーセッションの修正
ミラーセッションリスト画面でミラーセッションを選択して**セッション変更**ボタンを押すと、ミラーセッションの設定値を修正できます。
> [参考]ミラーセッションのミラーソースポート、ミラーターゲットポートおよび方向は変更できません。

### ミラーセッションの削除
ミラーセッションリスト画面で削除したいミラーセッションを選択し、**削除**ボタンを押すと、そのミラーセッションが削除されます。

## ミラーフィルタ
ミラーセッションで使用するフィルタグループおよびルールを作成できます。

### ミラーフィルタグループ情報
ミラーフィルタグループの基本情報を入力します。必要な項目は次のとおりです。

* 名前：ミラーフィルタグループの名前を入力します。
* 説明：ミラーフィルタグループの説明を記述します。

### ミラーフィルタグループを確認する
ミラーフィルタグループの作成が完了すると、再びミラーフィルタグループリスト画面に戻ります。ミラーフィルタグループリスト画面では作成されたミラーフィルタグループの基本情報を確認できます。リスト画面で表示される項目は次のとおりです。

#### 基本情報
* 名前：ミラーフィルタグループ作成時に指定したミラーフィルタグループの名前です。 
* 説明：ミラーフィルタグループ作成時に指定したミラーフィルタグループの説明です。
* テナントID：ミラーフィルタグループを作成したプロジェクトのIDです。

#### フィルタルール
フィルタグループに属すフィルタルールが一覧表示されます。**フィルタルール作成**、**フィルタルール変更**および**フィルタルール削除**を行って、ルールの作成、変更および削除が可能です。
フィルタルールに必要な項目は次のとおりです。

* プロトコル：TCP、UDP、ICMPなどのプロトコルを選択します。
* 送信元ポート：送信元ポートまたは範囲を入力します。プロトコルがTCP/UDPの場合に入力できます。
* 宛先ポート：宛先ポートまたは範囲を入力します。プロトコルがTCP/UDPの場合に入力できます。 
* 送信元CIDR：送信元IPまたは帯域を入力します。
* 宛先CIDR：宛先IPまたは帯域を入力します。
* 順序：適用順序を入力します。フィルタルールが適用される優先順位を意味し、値が小さいものから先に適用されます。
* 適用方法：マッチングされた場合に実行するアクションを入力します。許可またはブロックのいずれかを選択できます。
* 説明：フィルタルールの説明を記述します。

> [参考]フィルタルールは説明項目のみ変更可能です。他の項目の変更が必要な場合は、削除して再び作成する必要があります。


### ミラーフィルタグループの修正
ミラーフィルタグループリスト画面でミラーフィルタグループを選択して**フィルタグループ変更**ボタンを押すと、ミラーフィルタグループの設定値を修正できます。

### ミラーフィルタグループの削除
ミラーフィルタグループリスト画面で削除したいミラーフィルタグループを選択し、**削除**ボタンを押すと、そのミラーフィルタグループが削除されます。
> [注意]ミラーフィルタグループを削除すると、ミラーフィルタグループに接続されたフィルタルールが自動的に削除されます。

> [参考]ミラーセッションに接続されたフィルタグループは削除できません。
