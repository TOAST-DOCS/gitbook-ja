## Database > RDS for MS-SQL > コンソール使用ガイド

## DBインスタンス

DBインスタンスタブではDBインスタンスの作成、修正、削除などの作業を行ったり、作成されたDBインスタンスの各種状態情報を照会できます。

### DBインスタンス作成

DBインスタンスを作成するには、先にDBインスタンスリスト画面左上の**DBインスタンス作成**ボタンを押して、DBインスタンス作成画面へ移動します。
作成したいDBインスタンスの仕様、情報、ネットワーク、Floating IP、DBセキュリティグループ、バックアップ設定を入力した後、**DBインスタンス作成**ボタンを押してDBインスタンス作成リクエストを行います。

![DBインスタンス作成001](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_create_001_kr.png)

* ❶ Compute & Networkサービスで作成したVPCサブネットを選択できます。
* ❷ MS-SQLモニタリングを有効にするかどうかを選択できます。
* ❸ DBセキュリティグループがない場合、**DBセキュリティグループ作成**ボタンを押して即時に作成し、適用できます。
* その他詳細については[DBインスタンス](./db-instance)と[データベース接続](./database-connection)を参照してください。

DBインスタンス作成リクエストが成功すると、自動的にDBインスタンスリストへ移動します。DBインスタンスの作成には数分から数十分かかります。

### DBインスタンスリスト

DBインスタンスの簡略な情報リストを照会できます。
1画面に最大50個のDBインスタンスリストが表示されます。

![DBインスタンスリスト001](https://static.toastoven.net/prod_rds_mssql/20221115/db_instance_list_001.png)

* ❶ DBインスタンス名およびUUIDで検索できます。
* ❷条件ボタンを押すと、アベイラビリティゾーンとDBインスタンス状態で検索結果をフィルタリングできます。

![DBインスタンスリスト > 条件001](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_list_cond_001_kr.png)

* ❸ 頻繁に使用する作業を実行できます。
* ❹ 頻繁に使用しない追加作業を実行できます。
* ❺現在のリストを更新するか、50個以上のDBインスタンスがある場合、ページを移動できます。
* ❻ハイパーバイザメンテナンス対象のときはボタンが表示されます。マイグレーション方法は付録1をご確認ください。
* ❼パラメータグループが変更されたが適用されていないときにボタンが表示されます。ボタンをクリックしてパラメータを適用できます。
* ❽フェイルオーバーまたはログバックアップの消失により時点復元ができない時にボタンが表示されます。ボタンをクリックして自動バックアップを作成すると時点復元が行えるようになります。
* ❾現在のCPU使用量とアクティブセッション数を表します。値は1分毎に更新されます。
* ❿ DBインスタンスの状態を表します。状態に応じて異なる状態値と色が表示されます。DBインスタンスが作業中の場合は歯車が表示されます。

### DBインスタンス再起動

DBインスタンスのMicrosoft SQL Serverプロセスを再起動できます。 DBインスタンスが高可用性構成を使用すると、フェイルオーバーを利用して再起動できます。

![DBインスタンスリスト > 再起動001](https://static.toastoven.net/prod_rds_mssql/20201215/bordered/db_instance_restart_001_kr.png)

* ❶ DBインスタンスを再起動すると、Microsoft SQL Serverプロセスを再起動します。もしMicrosoft SQL Serverプロセスの再起動に失敗したら、DBインスタンスVMが再起動します。
* ❷高可用性機能を使用する場合、フェイルオーバーを利用して再起動する場合もあります。

### DBインスタンス強制再起動

DBインスタンスの状態が異常と判断された場合、現在進行中の作業に関係なく強制的に再起動できます。

![DBインスタンス強制再起動001](https://static.toastoven.net/prod_rds_mssql/20210713/output/db_instance_force_restart_001.png)

* ❶ DBインスタンスを選択した後、 **強制再起動** ボタンをクリックすると**強制再起動**確認ウィンドウが表示されます。

![DBインスタンス強制再起動002](https://static.toastoven.net/prod_rds_mssql/20210713/output/db_instance_force_restart_002.png)

* ❷  **強制再起動**ボタンをクリックするとDBインスタンスが強制再起動されます。

> [注意]
> 強制再起動を行う場合、現在作業中のすべての作業が失われます。動作中のVMが再起動します。
> 強制再起動後、DBインスタンスの状態が正常に戻らない場合があります。その場合はサポートへお問い合わせください。

### DBインスタンス修正

使用可能状態のDBインスタンスは、Webコンソールから簡単に主な設定を変更でます。

![DBインスタンスリスト002](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_list_002_kr.png)

* ❶修正したいDBインスタンスをリストから選択して、左上の修正ボタンを押します。

変更したい設定を変更後、ページ下の**修正**ボタンを押してDBインスタンスを修正します。
DBインスタンス修正リクエストが成功すると、自動的にDBインスタンスリストへ移動します。DBインスタンスの修正は数分から数十分かかります。

![DBインスタンス修正001](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_modify_001_kr.png)

* ❶アベイラビリティゾーンは変更できません。
* ❷ DBインスタンスタイプ変更時、データベースが再起動します。
* ❸ストレージタイプは変更できません。
* ❹一度増やしたストレージサイズは減らせません。
* ❺ Temp DB位置変更時、データベースが再起動されます。 
* ❻バックアップ保管期間が1日以上の時のみ、高可用性機能を使用できます。
* ❼高可用性自動復旧を使用すると、自動フェイルオーバーの1時間後に動作する高可用性復旧予約タスクが作成されます。
* ❽ユーザーIDは変更できません。
* ❾パスワードを入力していない場合は、変更されません。
* ❿ポート変更時、データベースが再起動します。
* ⓫VPCは変更できません。
* ⓬ MSSQLモニタリングオプションを変更すると、データベースが再起動します。
* ⓭タスク予約時間を修正すると、作成済みの予約タスクの予約時間も変更されます。
* ⓮ **DBインスタンス修正**ボタンをクリックすると、DBインスタンス修正確認ウィンドウが表示されます。
    ![DBインスタンス修正 > 確認モーダル](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_modify_modal_001_kr.png)
    * **即時実行**ボタンをクリックするとすぐに変更されます。
    * **タスク予約**ボタンをクリックすると、DBインスタンスタスク予約時間にタスクが予約されます。

### DBインスタンス詳細

DBインスタンスを選択すると、画面下に詳細表示パネルが表示され、さらに詳細な情報を確認できます。
詳細表示パネルは5つのタブで構成されていて、DBインスタンスに関連した追加情報を確認できます。

#### 基本情報

選択したDBインスタンスの基本情報を確認できます。
![DBインスタンス詳細 > 基本情報001](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_detail_inst_001_kr.png)

* ❶ **変更**ボタンを押すと、DBインスタンスの名前を変更できます。
* ❷ **コピー**ボタンを押すと、DBインスタンスのIDをクリップボードにコピーします。
* ❸ DBインスタンスに接続できるドメインが表示されます。ドメインをクリックすると、ドメインのタイプとIP情報が表示されます。

![DBインスタンス詳細 > 基本情報001ドメイン](https://static.toastoven.net/prod_rds_mssql/20201215/bordered/db_instance_detail_inst_001_domain_kr.png)

* ❹ **コピー**ボタンを押すと、ドメイン情報をクリップボードにコピーします。
* ❺高可用性DBインスタンスのデータベース複製状態を表示します。
    * データベース作成後、Webコンソールに表示されるまで一定時間かかります。
    * `複製済`状態ではないデータベースは自動フェイルオーバーが行われません。
* ❻適用されたDBセキュリティグループを確認できます。DBセキュリティグループ名の上にマウスオーバーすると、セキュリティグループルールが表示されます。

![DBインスタンス詳細 > 基本情報001セキュリティルール](https://static.toastoven.net/prod_rds_mssql/20220614/db_instance_detail_inst_001_dsg_kr.png)

#### モニタリング

選択したDBインスタンスに関連する指標をチャートで確認できます。詳細な使用方法は[サーバーダッシュボード](./console-guide#_20)を参照してください。

![DBインスタンス詳細 > モニタリング001](https://static.toastoven.net/prod_rds_mssql/db_instance_detail_mon_001.png)

#### イベント

選択したDBインスタンスに関連するイベントを確認できます。詳細な使用方法は[イベント](./console-guide#_12)を参照してください。

![DBインスタンス詳細 > イベント001](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_detail_event_001.png)

#### ログ

選択したDBインスタンスで発生したMicrosoft SQL Serverのエラーログを確認できます。
エラーログの内容を新しい順にソートし、1画面で最大10行のエラーログを確認できます。

![DBインスタンス詳細 > ログ001](https://static.toastoven.net/prod_rds_mssql/20220914/db_instance_detail_log_001.png)

* ❶照会期間を選択します。別途指定しなければ直近一週間のエラーログを照会します。
* ❷ **ログ表示**ボタンをクリックすると、そのログファイルの最近のログを確認できます。

![DBインスタンス詳細 > ログ002](https://static.toastoven.net/prod_rds_mssql/20220914/db_instance_detail_log_002.png)

* ❶ **すべてのログ表示**ボタンをクリックすると、照会期間内のすべてのログを無限スクロール方式で確認できます。

#### バックアップ

選択したDBインスタンスのバックアップ関連設定情報および、バックアップファイルの情報を確認できます。
1画面に最大50個のバックアップリストが表示されます。

![DBインスタンス詳細 > バックアップ001](https://static.toastoven.net/prod_rds_mssql/20221115/db_instance_detail_backup_001.png)

* ❶バックアップを有効化または無効化できます。バックアップを無効化すると、バックアップ実行時間に自動バックアップが行われません。
* ❷ログバックアップを有効化または無効化できます。ログバックアップが無効になっている期間は、時点復元可能時刻が増加しません。
* ❸最後に実行されたバックアップの作成時刻が表示されます。
* ❹バックアップ実行時間が表示されます。バックアップ実行時間を指定しなかった場合、システムで指定した時間が表示されます。
* ❺バックアップが有効になっているかどうかを表します。
* ❻ログバックアップが効になっているかどうかを表します。
* ❼ログバックアップを行うかどうかを表します。
* ❽バックアップ名で検索できます。
* ❾選択したバックアップを利用してDBインスタンスを復元します。
* ❿選択したバックアップを削除します。手動バックアップのみ削除できます。
* ⓫手動バックアップファイルを作成します。
* ⓬現在のリストを更新するか、50個以上のバックアップファイルがある場合、ページを移動できます。



#### 予約タスク

選択したDBインスタンスの予約タスクを確認できます。
1画面に最大50個の予約タスクリストが表示されます。

![DBインスタンス詳細 > 予約タスク001](https://static.toastoven.net/prod_rds_mssql/20220315/db_instance_detail_reserved_process_001.png)

* ❶条件ボタンをクリックすると、予約タスク状態で結果をフィルタリングできます。
    * 全体は削除済み以外のすべての状態値を照会します。
* ❷ **編集**ボタンをクリックすると、予約タスクが設定された時間を変更できます。
* ❸ **即時実行**ボタンをクリックすると、予約タスクを現在時間に変更できます。
* ❹ **削除**ボタンをクリックすると、予約タスクを削除できます。
    * 「予約済み」、「登録済み」、「キャンセル済み」、「エラー」、「検証失敗」状態の予約タスクを削除できます。
    * 「予約済み」、「登録済み」状態の予約タスクを削除すると、そのタスクは実行されません。

### オブジェクトストレージに差分バックアップ

DBインスタンスを差分バックアップして、差分バックアップファイルをオブジェクトストレージにエクスポートできます。

![DBインスタンス詳細 > オブジェクトストレージに差分バックアップ](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_obs_backup_menu.png)

DBインスタンスリストから特定DBインスタンスを選択した後、**オブジェクトストレージへ差分バックアップ**ボタンを押すと、以下のようなポップアップが表示されます。

![DBインスタンス詳細 > オブジェクトストレージに差分バックアップポップアップ](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_differential_backup_to_obs_backup.png)

* ❶差分バックアップファイルが保存されるオブジェクトストレージのTenant IDを入力します。オブジェクトストレージサービスWebコンソールのAPIエンドポイント設定で確認できます。
* ❷差分バックアップファイルが保存されるオブジェクトストレージのNHN Cloudアカウント(メール)を入力します。
* ❸差分バックアップファイルが保存されるオブジェクトストレージのAPIパスワードを入力します。
* ❹差分バックアップファイルが保存されるオブジェクトストレージのコンテナ名を入力します。
* ❺コンテナに保存される差分バックアップファイルのパスを入力します。
    * フォルダ名は最大255バイトで、パスは最大1024バイトです。
    * 特定の形式(. または ..)や、特殊文字(' " < > ; /)、空白は入力できません。
* ❻バックアップを行うデータベースを選択します。
* ❼差分バックアップを作成する時に使用した全体バックアップもオブジェクトストレージにエクスポートするかどうかを選択します。
* ❽コンテナに保存されるベースバックアップファイルのパスを入力します。

情報を入力した後、**確認**ボタンを押すとバックアップが行われます。バックアップが完了すると、入力したオブジェクトストレージのコンテナからバックアップファイルをダウンロードできます。

![オブジェクトストレージにアップロードされたバックアップファイル確認](https://static.toastoven.net/prod_rds_mssql/20210209/output/db_instance_backup_to_obs_result.png)

### オブジェクトストレージにあるバックアップで復元

オブジェクトストレージにあるバックアップファイルをDBインスタンスに復元できます。

![DBインスタンス詳細 > オブジェクトストレージにあるバックアップで復元](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_obs_backup_menu.png)

DBインスタンスリストから特定DBインスタンスを選択した後、**オブジェクトストレージにあるバックアップで復元**ボタンを押すと、以下のようなダイアログボックスが表示されます。

![DBインスタンス詳細 > オブジェクトストレージにあるバックアップで復元ポップアップ](https://static.toastoven.net/prod_rds_mssql/20230110/db_instance_restore_from_obs_modal.png)

* ❶全体バックアップファイルが保存されているオブジェクトストレージのTenant IDを入力します。オブジェクトストレージサービスWebコンソールのAPIエンドポイント設定で確認できます。
* ❷全体バックアップファイルが保存されているオブジェクトストレージのNHN Cloudアカウント(メール)を入力します。
* ❸全体バックアップファイルが保存されているオブジェクトストレージのAPIパスワードを入力します。
* ❹全体バックアップファイルが保存されているオブジェクトストレージのコンテナ名を入力します。
* ❺コンテナに保存されている全体バックアップファイルのパスを入力します。
    * フォルダ名は最大255バイトで、パスは最大1024バイトです。
    * 特定の形式(. または ..)や、特殊文字(' " < > ; /)、空白は入力できません。
* ❻復元されるデータベースの名前を入力します。
* ❼差分バックアップ復元を行うかどうかを選択します。
* ❽コンテナに保存されている差分バックアップファイルのパスを入力します。

情報を入力した後、**確認**ボタンを押すと復元が行われます。

## バックアップ

バックアップタブではすべてのDBインスタンスの手動、自動バックアップファイルの情報を確認できます。

### バックアップリスト

![バックアップリスト001](https://static.toastoven.net/prod_rds_mssql/backup_list_001.png)

* ❶バックアップ名で検索できます。
* ❷選択したバックアップを利用してDBインスタンスを復元します。
* ❸選択したバックアップを削除します。手動バックアップのみ削除できます。
* ❹手動バックアップファイルを作成します。
* ❺現在のリストを更新するか、50個以上のバックアップファイルがある場合、ページを移動できます。

### バックアップ作成

バックアップタブの**バックアップ作成**ボタンを押すと、バックアップを作成するためのポップアップが表示されます。
DBインスタンスを選択し、名前を入力した後、**作成**ボタンを押すとバックアップが実行されます。

![バックアップリスト002](https://static.toastoven.net/prod_rds_mssql/backup_list_002.png)

* ❶バックアップするDBインスタンスを選択します。現在使用可能なDBインスタンスのみ表示されます。
* ❷バックアップ名を入力します。
* その他、詳細事項は[バックアップおよび復元](./backup-restore)を参照してください。

### オブジェクトストレージにバックアップをエクスポート

自動バックアップファイルまたは手動バックアップファイルをオブジェクトストレージにエクスポートできます。

![バックアップリスト002](https://static.toastoven.net/prod_rds_mssql/20210209/output/backup_to_obs_menu.png)

バックアップリストからオブジェクトストレージへエクスポートするバックアップを選択した後、**オブジェクトストレージへバックアップエクスポート**ボタンを押します。

![バックアップリスト > オブジェクトストレージへバックアップエクスポートポップアップ](https://static.toastoven.net/prod_rds_mssql/20230110/export_backup_to_obs_modal.png)

* ❶バックアップファイルが保存されるオブジェクトストレージのTenant IDを入力します。オブジェクトストレージサービスWebコンソールのAPIエンドポイント設定で確認できます。
* ❷バックアップファイルが保存されるオブジェクトストレージのNHN Cloudアカウント(メール)またはIAM会員IDを入力します。
* ❸バックアップファイルが保存されるオブジェクトストレージのAPIパスワードを入力します。
* ❹バックアップファイルが保存されるオブジェクトストレージのコンテナ名を入力します。
* ❺コンテナに保存されるバックアップファイルのパスを入力します。
    * フォルダ名は最大255バイトで、パスは最大1024バイトです。
    * 特定の形式(. または ..)や、特殊文字(' " < > ; /)、空白は入力できません。
* ❻バックアップをエクスポートするデータベースを選択します。

## 復元

RDS for MS-SQLではバックアップを利用した復元と時点復元をサポートします。
復元の詳細については[バックアップおよび復元](./backup-restore)を参照してください。

### バックアップを利用した復元

バックアップタブまたはDBインスタンス詳細表示パネルのバックアップタブで、バックアップを利用して復元を行うことができます。
復元に使用するバックアップをリストから選択し、**復元**ボタンを押すと復元画面に移動します。

![復元001](https://static.toastoven.net/prod_rds_mssql/restore_001.png)
![復元002](https://static.toastoven.net/prod_rds_mssql/20220315/restore_002.png)

復元画面で新たに作成されるDBインスタンスのタイプおよび各種設定を行った後、画面下の**DBインスタンス復元**ボタンを押してDBインスタンスを復元します。
バックアップが行われた時点のDBインスタンスタイプ、ストレージタイプ、ストレージサイズ、ポート、パラメータグループおよびDBセキュリティグループが自動的に選択されます。

> [注意]
> バックアップ時点のパラメータグループが存在しない場合、基本パラメータグループが選択されます。
> バックアップ時点に存在するDBセキュリティグループのみ自動的に選択されます。

![復元003](https://static.toastoven.net/prod_rds_mssql/20221115/restore_003.png)

DBインスタンスの復元には数分から数十分かかります。

### バックアップ保管期間中の任意の時点に復元

DBインスタンスのバックアップ保管周期が1日以上の場合、バックアップ保管期間中の任意の時点に復元できます。
時点復元するDBインスタンスを選択した後、**時点復元**ボタンを押すと復元画面に移動します。

![復元004](https://static.toastoven.net/prod_rds_mssql/restore_004.png)

バックアップを利用した復元と同じ画面ですが、画面上部で復元する時点を選択できます。

![復元005](https://static.toastoven.net/prod_rds_mssql/restore_005.png)

最近の復元可能時刻ではなく、他の時点に復元するには**ユーザー指定**を選択します。

![復元006](https://static.toastoven.net/prod_rds_mssql/restore_006.png)

復元画面で新たに作成されるDBインスタンスのタイプおよび各種設定を行った後、画面下の**DBインスタンス復元**ボタンを押してDBインスタンスを復元します。
DBインスタンスの復元には数分から数十分かかります。

## イベント

イベントタブでは最近発生したイベントの確認や、イベント購読に関する設定を行うことができます。
イベントと購読の詳細については[モニタリング](./monitoring#_2)を参照してください。

### 最近のイベントリスト

最近発生したイベントを確認できます。一度に50個のイベントが表示され、多様な条件でフィルタリングできます。

![最近のイベントリスト001](https://static.toastoven.net/prod_rds_mssql/event_list_001.png)

* ❶表示されるイベントタイプを選択します。
* ❷検索ワードで検索する対象を選択します。イベントソースおよびメッセージで検索できます。
* ❸表示されたイベント発生日時を選択します。
* ❹ **初期化**ボタンを押すと、すべての検索条件をデフォルト値に設定します。
* ❺現在のリストを更新するか、50個以上のイベントがある場合、ページを移動できます。

### イベントを購読する

イベント購読リスト上部の**イベント購読登録**ボタンを押すと、ポップアップが表示されます。
購読するイベント情報を入力し、ポップアップ下部の**作成**ボタンを押すと、イベントを購読できます。

![イベント購読ポップアップ001](https://static.toastoven.net/prod_rds_mssql/event_subscription_create_001.png)

* ❶イベントタイプに応じてイベントコード、イベントソースをさらに細分化して選択できます。
* ❷イベント発生時に通知を送るユーザーグループを選択できます。
    * オートコンプリート入力をサポートします。

![イベント購読ポップアップ002](https://static.toastoven.net/prod_rds_mssql/event_subscription_002.png)

* イベントタイプを選択すると、選択したタイプに属しているイベントコードを選択できます。

![イベント購読ポップアップ003](https://static.toastoven.net/prod_rds_mssql/event_subscription_003.png)

* ❶オートコンプリート入力をサポートします。
    * 入力したキーワードに応じて、選択できるイベントコードがフィルタリングされます。
    * キーボードの上下方向キーでイベントコードを選択した後、Enterを押すと、オートコンプリートされます。
    * 追加されたイベントコードは、Backspaceを押すか、**x**ボタンを押すと削除できます。
* ❷マウスでイベントコードを選択できます。

![イベント購読ポップアップ004](https://static.toastoven.net/prod_rds_mssql/event_subscription_004.png)

* イベントタイプに応じてイベントソースが表示されます。
* ❶オートコンプリート入力をサポートします。
    * 入力したキーワードに応じて、選択できるイベントソースがフィルタリングされます。
    * キーボードの上下方向キーでイベントソースを選択した後、Enterを押すとオートコンプリートされます。
    * 追加されたイベントソースは、Backspaceを押すか、**x**ボタンを押すと削除できます。
* ❷マウスでイベントソースを選択できます。

## パラメータグループ

パラメータタブでは、DBインスタンスに適用するパラメータグループの作成や、パラメータグループのパラメータの修正を行うことができます。

### パラメータグループ作成

パラメータグループを作成するには、既存パラメータグループからデフォルト値をコピーする必要があります。
パラメータグループリストからコピーしたい対象を先に選択した後、**パラメータグループコピー**ボタンを押します。

![パラメータグループリスト001](https://static.toastoven.net/prod_rds_mssql/20220614/parameter_group_list_001.png)

新たに作成するパラメータグループの名前および説明を入力した後、**コピー**ボタンを押して新しいパラメータグループを作成できます。

![パラメータグループコピー001](https://static.toastoven.net/prod_rds_mssql/20220614/parameter_group_copy_001.png)

### パラメータグループ修正

パラメータグループリストから修正したい対象の名前を押して、パラメータ詳細画面に移動します。

![パラメータグループリスト002](https://static.toastoven.net/prod_rds_mssql/20220614/parameter_group_list_002.png)

パラメータ詳細画面の上部にある**パラメータ編集**ボタンを押して編集モードへ移行します。

![パラメータグループ詳細001](https://static.toastoven.net/prod_rds_mssql/parameter_group_detail_001.png)

パラメータを修正し、**変更事項保存**ボタンを押してパラメータグループのパラメータを修正します。

![パラメータグループ詳細002](https://static.toastoven.net/prod_rds_mssql/parameter_group_detail_002.png)

* ❶キーワードを入力して、表示されるパラメータをフィルタリングできます。
* ❷現在まで修正されたすべてのパラメータ変更事項をキャンセルし、詳細画面へ移動します。
* ❸変更前と後の比較結果がポップアップで表示されます。

![パラメータグループ詳細003](https://static.toastoven.net/prod_rds_mssql/parameter_group_detail_003.png)

* ❹すべてのパラメータの値をデフォルト値に初期化します。
* ❺❻パラメータ修正プロセスで発生したエラーメッセージが表示されます。

### パラメータグループ比較

異なる2個のパラメータグループを比較して、異なるパラメータ値が何かを確認できます。
パラメータリストから比較したいパラメータグループ2個を選択します。

![パラメータグループリスト003](https://static.toastoven.net/prod_rds_mssql/20220614/parameter_group_list_003.png)

上部の**パラメータグループ比較**ボタンを押して、異なるパラメータの値を確認します。

![パラメータグループ比較001](https://static.toastoven.net/prod_rds_mssql/parameter_group_diff_001.png)

## DBセキュリティグループ

DBセキュリティグループタブでは、DBセキュリティグループの作成および削除を行うことができます。また、DBセキュリティグループにポリシーを追加、修正、削除できます。
DBセキュリティグループの詳細については[データベース接続](./database-connection)を参照してください。

### DBセキュリティグループ作成

DBセキュリティグループリスト上部の**DBセキュリティグループ作成**ボタンを押すと、DBセキュリティグループを作成することができるポップアップが表示されます。

![DBセキュリティグループリスト001](https://static.toastoven.net/prod_rds_mssql/db_security_group_list_001.png)
![DBセキュリティグループ作成001](https://static.toastoven.net/prod_rds_mssql/20220614/db_security_group_create_001.png)

* ❶ **+**ボタンを押してセキュリティポリシーを追加します。

ポップアップ下部の**確認**ボタンを押してDBセキュリティグループを作成します。

### DBセキュリティグループ修正

DBセキュリティグループリストから修正したいDBセキュリティグループを選択し、上部の**DBセキュリティグループ変更**ボタンを押します。

![DBセキュリティグループ修正001](https://static.toastoven.net/prod_rds_mssql/db_security_group_modify_001.png)

DBセキュリティグループの名前と説明を修正できます。セキュリティポリシーは別途修正する必要があります。

### セキュリティポリシー修正

DBセキュリティグループリストからDBセキュリティグループを選択すると、画面下部にセキュリティポリシーを確認、修正することができる詳細表示パネルが表示されます。

![DBセキュリティグループ詳細001](https://static.toastoven.net/prod_rds_mssql/20220614/db_security_group_detail_001.png)

詳細表示パネルの**セキュリティポリシー作成**ボタンを押すと、セキュリティポリシーを作成することができるポップアップが表示されます。

![DBセキュリティグループ詳細002](https://static.toastoven.net/prod_rds_mssql/20220614/db_security_group_detail_002.png)

詳細表示パネルでDBセキュリティグループポリシーを選択すると、ポリシーを変更、削除できます。

## サーバーダッシュボード

サーバーダッシュボードタブでは、DBインスタンスの各種性能指標をチャートで確認できます。
RDS for MS-SQLは、基本システム指標および基本SQLサーバー指標、2個の基本レイアウトを提供します。
基本レイアウトは削除および変更ができません。

![サーバーダッシュボード001](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_001.png)

* ❶作成されたDBインスタンスがリストに表示されます。DBインスタンス選択時、関連するチャートを確認できます。
* ❷レイアウトを変更して、新しい指標を確認できます。
* ❸チャート照会期間を現在時刻基準で設定します。

### ユーザーレイアウトの活用

**レイアウト作成**ボタンを押して、レイアウトを新たに作成できます。

![サーバーダッシュボード002](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_002.png)

![サーバーダッシュボード003](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_003.png)

新たに作成したレイアウトに、見たいチャートを追加できます。

![サーバーダッシュボード004](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_004.png)

レイアウトを選択した後、**チャート追加**ボタンを押すと、チャート追加ポップアップが表示されます。

![サーバーダッシュボード005](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_005.png)

チャートを追加すると、レイアウトにチャートが追加されます。

![サーバーダッシュボード006](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_006.png)

ユーザーレイアウトのチャートは、自由に配置やサイズを変更できます。

![サーバーダッシュボード007](https://static.toastoven.net/prod_rds_mssql/server_dashboard_list_007.png)

* ❶ 1番領域をマウスでドラッグ&ドロップして位置を変更できます。
* ❷右下の領域をマウスでドラッグ&ドロップしてサイズを変更できます。
* ❸追加したチャートを削除できます。

## 通知グループ

通知グループタブでは通知グループの作成および削除が可能です。また通知グループに監視対象、ユーザーグループ、監視設定を追加、修正、削除できます。
通知グループについての詳細な説明は[通知グループ](./monitoring)を参照してください。

### 通知グループ作成

通知グループリスト上部の**+ グループ作成**ボタンをクリックすると、通知グループを作成することができるポップアップが表示されます。

![通知グループリスト001](https://static.toastoven.net/prod_rds_mssql/notification_group_list_001.png)
![通知グループ作成001](https://static.toastoven.net/prod_rds_mssql/notification_group_create_001.png)

* ❶通知グループの有効/無効を選択できます。
    * 使用しないを選択すると通知が届きません。
* ❷監視するDBインスタンスを選択できます。
    * ![通知グループDBインスタンス001](https://static.toastoven.net/prod_rds_mssql/notification_group_db_instance_001.png)
    * オートコンプリート入力をサポートします。
    * 使用可能、接続失敗、ストレージ不足状態のDBインスタンスのみ選択可能です。
    * 使用可能、接続失敗、ストレージ不足状態のDBインスタンスのみ監視対象DBインスタンスから削除できます。
* ❸イベント発生時に通知を送るユーザーグループを選択できます。
    * ![通知グループユーザーグループ001](https://static.toastoven.net/prod_rds_mssql/notification_group_user_group_001.png)
    * オートコンプリート入力をサポートします。

ポップアップ下部の**確認**ボタンをクリックして通知グループを作成します。

### 通知グループ修正

通知グループリストで修正したい通知グループの右にある**編集**ボタンをクリックします。
![通知グループリスト001](https://static.toastoven.net/prod_rds_mssql/notification_group_list_002.png)
![通知グループ修正001](https://static.toastoven.net/prod_rds_mssql/notification_group_modify_001.png)

* 通知グループ作成と同じように名前、通知タイプ、有効/無効、監視対象DBインスタンス、ユーザーグループを修正できます。


### 通知グループ監視設定

通知グループリストで監視設定を行いたい通知グループの右にある**監視設定**ボタンをクリックします。

![通知グループ監視設定001](https://static.toastoven.net/prod_rds_mssql/notification_group_metric_001.png)

* ❶ **+ 監視設定**ボタンをクリックすると、新しい監視が追加されます。
    * ![通知グループ監視設定の追加001](https://static.toastoven.net/prod_rds_mssql/notification_group_metric_add_001.png)
    * しきい値は0以上100以下の値を指定できます。
    * 持続時間は0以上32,767以下の値を設定できます。
* ❷ボタンをクリックすると、既存の監視設定を修正できます。
* ❸ボタンをクリックすると、監視設定を削除できます。

## ユーザーグループ

ユーザーグループタブではユーザーグループの作成および削除が可能です。またユーザーグループのユーザーリストを追加、修正、削除できます。

### ユーザーグループ作成

ユーザーグループリスト上部の**+ ユーザーグループ作成**ボタンをクリックすると、ユーザーグループを作成することができるポップアップが表示されます。

![ユーザーグループリスト001](https://static.toastoven.net/prod_rds_mssql/user_group_list_001.png)
![ユーザーグループ作成001](https://static.toastoven.net/prod_rds_mssql/user_group_create_001.png)

* ❶通知対象を追加、削除できます。
    * ![ユーザーグループ作成001](https://static.toastoven.net/prod_rds_mssql/user_group_user_list_001.png)
    * 追加したいユーザーの右にある**追加**ボタンをクリックすると、通知対象に追加できます。
    * 削除したいユーザー名の右にある**x**ボタンをクリックすると、通知対象から削除できます。
    * プロジェクトメンバーのみユーザーリストに表示されます。実名認証を行ったメンバーのみ名前とSMSが追加で表示されます。

ポップアップ下部の**確認**ボタンをクリックしてユーザーグループを作成します。

### ユーザーグループ修正

ユーザーグループリストから修正したいユーザーグループの右にある**編集**ボタンをクリックします。

![ユーザーグループ修正001](https://static.toastoven.net/prod_rds_mssql/user_group_modify_001.png)

* ユーザーグループ作成と同じように名前、通知対象を修正できます。

## 予約タスク

DBインスタンス修正時、パラメータグループ変更時、自動高可用性復旧を使用時、に予約タスクを登録できます。

### 予約タスクリスト
選択したDBインスタンスの予約タスクを確認できます。
1画面に最大50個の予約タスクリストが表示されます。

![DBインスタンス詳細 > 予約タスク001](https://static.toastoven.net/prod_rds_mssql/20220315/reserved_process_list_001_kr.png)

* ❶ **条件ボタン**をクリックすると、予約タスク状態で結果をフィルタリングできます。
    * 全体は削除済み以外のすべての状態値を照会します。
* ❷ **編集ボタン**をクリックすると、予約タスクが設定された時間を変更できます。
* ❸ **即時実行**ボタンをクリックすると、予約タスクを現在時間に変更できます。
* ❹ **削除ボタン**をクリックすると、予約タスクを削除できます。
    * 「予約済み」、「登録済み」、「キャンセル済み」、「エラー」、「検証失敗」状態の予約タスクを削除できます。
    * 「予約済み」、「登録済み」状態の予約タスクを削除すると、そのタスクは実行されません。

### 予約タスク編集
予約タスクリストから修正したい予約タスクの右側**編集**ボタンをクリックします。
![予約タスクリスト001](https://static.toastoven.net/prod_rds_mssql/20220315/reserved_process_modify_modal_001_kr.png)

* ❶予約時間タイプを設定できます。
    * 毎日繰り返し
        * 毎日設定された時間にタスク開始を試みます。
        * 他のタスクが進行中で開始できなかった場合は翌日に再試行します。
    * 特定時間以降
        * 特定時間以降にタスク開始を試みます。
        * 動作中のタスクがある場合はそのタスクの完了後に開始します。
* ❷予約時間を設定します。
    * 毎日繰り返し
        * ![予約タスク修正毎日繰り返し001](https://static.toastoven.net/prod_rds_mssql/20220315/reserved_process_modify_modal_002_kr.png)
        * 時間間隔を30分以上に設定する必要があります。
    * 特定時間以降
        * ![予約タスク修正毎日繰り返し001](https://static.toastoven.net/prod_rds_mssql/20220315/reserved_process_modify_modal_003_kr.png)

### 予約タスク即時実行
予約タスクリストから実行したい予約タスクの右側**即時実行**ボタンをクリックします。
予約タスク即時実行は予約時間を現在時間に変更します。
現在進行中のタスクがある場合は完了後に開始します。

### 予約タスク削除
予約タスクリストから実行したい予約タスクの右側**削除ボタン**ボタンをクリックします。
「予約済み」、「登録済み」、「エラー」、「キャンセル済み」、「検証エラー」状態の予約タスクを削除できます。
「予約済み」、「登録済み」状態のときに削除すると、予約タスクは実行されません。
